<template>
  <div class="home flex h-screen w-screen items-center justify-center">
    <!-- 背景视频  -->
    <div class="absolute w-screen h-screen">
      <!-- Video element with auto-looping and autoplay -->
      <video class="w-full h-full object-cover" autoplay loop muted>
        <source src="../../assets/blog-bg.mp4" type="video/mp4" />
        您的浏览器不支持 HTML 视频标签。
      </video>
      <div
        class="absolute top-0 left-0 w-full h-full bg-white bg-opacity-30 backdrop-blur-md"
      ></div>
    </div>
    <!-- 背景音乐控制 -->
    <div class="absolute top-4 right-4 cursor-pointer" @click="controlMusic()">
      <span v-html="musicIcon"></span>
      <audio ref="audio" :src="bg_mp3" loop></audio>
    </div>

    <div
      class="-mt-10 sm:-mt-40 flex w-screen animate-scale-in-center flex-col px-4 sm:w-[626px]"
    >
      <div
        class="mt-6 flex w-full flex-col items-center rounded-lg bg-white/85 py-6 text-zinc-800 shadow shadow-black/40 backdrop-blur-sm relative"
      >
        <div class="text-2xl font-bold sm:text-3xl">
          <span class="shake-hand inline-block">👋</span> Hi, I am
          <span
            class="bg-gradient-to-r from-sky-700 to-teal-600 bg-clip-text text-transparent"
            >Arrebol</span
          >.
        </div>
        <p class="mt-2 sm:text-lg text-base">
          Arrebol's Tech Blog / Front-End Developer
        </p>
        <p class="mt-1 text-black/50">“春光大好 不必执着于冬”</p>
        <div class="mt-4 flex gap-4">
          <div
            @click="router.go('./AboutMe')"
            class="button relative w-fit cursor-pointer rounded-full bg-white active:scale-95"
          >
            🎉 Welcome
          </div>
          <div
            @click="gotoGithub"
            class="button button-github relative inline-flex cursor-pointer rounded-full bg-white active:scale-95"
          >
            <RiGithubLine class="w-5" />
            Github
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { onMounted, ref, onBeforeUnmount } from 'vue';
import { RiGithubLine } from '@remixicon/vue';
import { useRouter } from 'vitepress';
import lottieData from '../../assets/dora.json';
import bg_mp3 from '../../assets/bg_music.mp3'

const returnToTopRef = ref<HTMLElement | null>(null);

const router = useRouter();
const gotoGithub = () => {
  window.open('https://github.com/LIFM0623');
};

// 音乐播放相关
const audio = ref<HTMLAudioElement | null>(null);
const musicIcon =
  '<svg t="1732437944207" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7322" width="32" height="32"><path d="M908.9 214l-6-6 6-6c1.5-1.5 1.5-3.9 0-5.4s-3.9-1.5-5.4 0l-6 6-6-6c-1.5-1.5-3.9-1.5-5.4 0s-1.5 3.9 0 5.4l6 6-6 6c-1.5 1.5-1.5 3.9 0 5.4s3.9 1.5 5.4 0l6-6 6 6c1.5 1.5 3.9 1.5 5.4 0s1.5-3.9 0-5.4zM894.3 861.9h-13.6v-13.6c0-3.4-2.8-6.2-6.2-6.2-3.4 0-6.2 2.8-6.2 6.2v13.6h-13.6c-3.4 0-6.2 2.8-6.2 6.2 0 3.4 2.8 6.2 6.2 6.2h13.6v13.6c0 3.4 2.8 6.2 6.2 6.2 3.4 0 6.2-2.8 6.2-6.2v-13.6h13.6c3.4 0 6.2-2.8 6.2-6.2 0-3.4-2.8-6.2-6.2-6.2zM176.7 868.1c-9.7 0-17.5-7.9-17.5-17.5s7.9-17.5 17.5-17.5c9.7 0 17.5 7.9 17.5 17.5s-7.9 17.5-17.5 17.5z m0-26.7c-5.1 0-9.2 4.1-9.2 9.2s4.1 9.2 9.2 9.2 9.2-4.1 9.2-9.2-4.2-9.2-9.2-9.2zM135 310.1c-11.6 0-21-9.4-21-21s9.4-21 21-21 21 9.4 21 21-9.5 21-21 21z m0-32c-6.1 0-11 4.9-11 11s4.9 11 11 11 11-4.9 11-11-5-11-11-11zM169.4 160.2c-1.7 0-3 1.4-3 3v9.7c0 1.7 1.4 3 3 3s3-1.4 3-3v-9.7c0-1.6-1.4-3-3-3zM169.4 189.3c-1.7 0-3 1.4-3 3v9.7c0 1.7 1.4 3 3 3s3-1.4 3-3v-9.7c0-1.7-1.4-3-3-3zM178.4 187.3c-1.2-1.2-3.1-1.2-4.3 0-1.2 1.2-1.2 3.1 0 4.3l6.8 6.8c0.6 0.6 1.4 0.9 2.1 0.9 0.8 0 1.5-0.3 2.1-0.9 1.2-1.2 1.2-3.1 0-4.3l-6.7-6.8zM157.8 166.8c-1.2-1.2-3.1-1.2-4.3 0-1.2 1.2-1.2 3.1 0 4.3l6.8 6.8c0.6 0.6 1.4 0.9 2.1 0.9s1.5-0.3 2.1-0.9c1.2-1.2 1.2-3.1 0-4.3l-6.7-6.8zM160.4 187.3l-6.8 6.8c-1.2 1.2-1.2 3.1 0 4.3 0.6 0.6 1.4 0.9 2.1 0.9 0.8 0 1.5-0.3 2.1-0.9l6.8-6.8c1.2-1.2 1.2-3.1 0-4.3-1.1-1.2-3-1.2-4.2 0zM176.2 178.8c0.8 0 1.5-0.3 2.1-0.9l6.8-6.8c1.2-1.2 1.2-3.1 0-4.3-1.2-1.2-3.1-1.2-4.3 0l-6.8 6.8c-1.2 1.2-1.2 3.1 0 4.3 0.7 0.6 1.4 0.9 2.2 0.9zM188.7 179.6H179c-1.7 0-3 1.4-3 3 0 1.7 1.4 3 3 3h9.7c1.7 0 3-1.4 3-3 0.1-1.7-1.3-3-3-3zM162.7 182.6c0-1.7-1.4-3-3-3H150c-1.7 0-3 1.4-3 3 0 1.7 1.4 3 3 3h9.7c1.6 0 3-1.3 3-3z" fill="#036EB8" p-id="7323"></path><path d="M874.4 256.1m-8.9 0a8.9 8.9 0 1 0 17.8 0 8.9 8.9 0 1 0-17.8 0Z" fill="#036EB8" p-id="7324"></path><path d="M812.4 877m-8.9 0a8.9 8.9 0 1 0 17.8 0 8.9 8.9 0 1 0-17.8 0Z" fill="#036EB8" p-id="7325"></path><path d="M762.4 256.1c-3.2 0-6.2 0.5-9.1 1.3 13.2 3.9 22.9 16.2 22.9 30.7s-9.7 26.8-22.9 30.7c2.9 0.9 5.9 1.3 9.1 1.3 17.7 0 32-14.3 32-32s-14.3-32-32-32z" fill="#2EA7E0" p-id="7326"></path><path d="M698.9 192.6H320c-37.6 0-68 30.4-68 68v503c0 37.6 30.4 68 68 68h378.9c37.6 0 68-30.4 68-68v-503c0-37.5-30.4-68-68-68zM509 736.1c-123.7 0-224-100.3-224-224s100.3-224 224-224c10.2 0 20.2 0.7 30 2-109.5 14.7-194 108.5-194 222s84.5 207.3 194 222c-9.9 1.3-19.9 2-30 2z" fill="#F7F8F8" p-id="7327"></path><path d="M770.5 192.6H699c37.6 0 68 30.4 68 68v503c0 37.6-30.4 68-68 68h71.5c37.6 0 68-30.4 68-68v-503c0-37.5-30.5-68-68-68z" fill="#2EA7E0" p-id="7328"></path><path d="M579.5 288.1c-10.2 0-20.2 0.7-30 2 109.5 14.7 194 108.5 194 222s-84.5 207.3-194 222c9.8 1.3 19.8 2 30 2 123.7 0 224-100.3 224-224s-100.3-224-224-224z" fill="#2EA7E0" p-id="7329"></path><path d="M555.2 445.5c-6.2 0-12.3 0.9-18 2.5 28.1 7.9 48.7 33.6 48.7 64.2s-20.6 56.3-48.7 64.2c5.7 1.6 11.8 2.5 18 2.5 36.8 0 66.7-29.8 66.7-66.7s-29.9-66.7-66.7-66.7zM669 539.1h-11.8c6.6 0 12 5.4 12 12v18c0 6.6-5.4 12-12 12H669c6.6 0 12-5.4 12-12v-18c0-6.6-5.4-12-12-12z" fill="#2EA7E0" p-id="7330"></path><path d="M199.5 348.7c5.5 0 10-4.5 10-10v-18.6c0-5.5-4.5-10-10-10s-10 4.5-10 10v18.6c0 5.5 4.4 10 10 10zM838.5 688.1c-5.5 0-10 4.5-10 10v65.5c0 32-26 58-58 58h-503c-32 0-58-26-58-58V371.1c0-5.5-4.5-10-10-10s-10 4.5-10 10v392.5c0 43 35 78 78 78h503c43 0 78-35 78-78v-65.5c0-5.5-4.5-10-10-10zM770.5 182.6h-503c-43 0-78 35-78 78v25.5c0 5.5 4.5 10 10 10s10-4.5 10-10v-25.5c0-32 26-58 58-58h503c32 0 58 26 58 58v399.5c0 5.5 4.5 10 10 10s10-4.5 10-10V260.6c0-43-35-78-78-78z" fill="#036EB8" p-id="7331"></path><path d="M643.9 314.3c-37.3-23.6-80.6-36.1-125-36.1-62.5 0-121.3 24.3-165.5 68.5S285 449.6 285 512.1s24.3 121.3 68.5 165.5 103 68.5 165.5 68.5c56.4 0 110.8-20.3 153.3-57.2 42.1-36.5 69.8-86.8 78-141.7 0.8-5.5-2.9-10.6-8.4-11.4-5.5-0.8-10.6 2.9-11.4 8.4C715 647.9 624 726.1 519 726.1c-118 0-214-96-214-214s96-214 214-214c81.9 0 155.3 45.6 191.8 119 2.5 4.9 8.5 7 13.4 4.5s7-8.5 4.5-13.4c-19.1-38.5-48.4-71-84.8-93.9z" fill="#036EB8" p-id="7332"></path><path d="M442.3 512.1c0 42.3 34.4 76.7 76.7 76.7s76.7-34.4 76.7-76.7-34.4-76.7-76.7-76.7-76.7 34.4-76.7 76.7z m133.3 0c0 31.2-25.4 56.7-56.7 56.7-31.2 0-56.7-25.4-56.7-56.7s25.4-56.7 56.7-56.7c31.3 0.1 56.7 25.5 56.7 56.7zM732.9 477.2c0 36.8-27.5 67.4-63 72.2-0.9-11.3-10.4-20.3-21.9-20.3h-28c-12.1 0-22 9.9-22 22v18c0 12.1 9.9 22 22 22h28c12 0 21.7-9.6 22-21.5 46.4-5 82.8-44.3 82.9-92V328.9c18.3-4.5 32-21.1 32-40.8 0-23.2-18.8-42-42-42s-42 18.8-42 42c0 19.7 13.7 36.3 32 40.8v148c0.1 0.1 0 0.2 0 0.3zM650 569.1c0 1.1-0.9 2-2 2h-28c-1.1 0-2-0.9-2-2v-18c0-1.1 0.9-2 2-2h28c1.1 0 2 0.9 2 2v18z m71-281c0-12.1 9.9-22 22-22s22 9.9 22 22c0 8.5-4.9 15.9-12 19.6v-19.6c0-5.5-4.5-10-10-10s-10 4.5-10 10v19.6c-7.2-3.7-12-11.1-12-19.6z" fill="#036EB8" p-id="7333"></path><path d="M502.5 512.1c0 9.4 7.6 17 17 17s17-7.6 17-17-7.6-17-17-17-17 7.6-17 17z m17-3c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3z" fill="#036EB8" p-id="7334"></path><path d="M465.1 626.8m-16 0a16 16 0 1 0 32 0 16 16 0 1 0-32 0Z" fill="#3E3A39" p-id="7335"></path><path d="M433.1 653.4m-16 0a16 16 0 1 0 32 0 16 16 0 1 0-32 0Z" fill="#EF6676" p-id="7336"></path><path d="M604.8 653.4m-16 0a16 16 0 1 0 32 0 16 16 0 1 0-32 0Z" fill="#EF6676" p-id="7337"></path><path d="M572.8 626.8m-16 0a16 16 0 1 0 32 0 16 16 0 1 0-32 0Z" fill="#3E3A39" p-id="7338"></path><path d="M544.3 637.4h-50.6c-3.9 0-6.7 3.7-5.8 7.5 1.8 7.5 6.3 14 12.3 18.4 5.3 3.8 11.8 6.1 18.8 6.1s13.5-2.3 18.8-6.1c6.1-4.4 10.5-10.9 12.3-18.4 0.9-3.8-1.9-7.5-5.8-7.5z" fill="#3E3A39" p-id="7339"></path><path d="M519 653.4c-7 0-13.3 3.2-17.5 8.2-0.8 0.9-0.5 2.3 0.5 3 4.9 3.1 10.7 4.9 17 4.9 6.2 0 12.1-1.8 17-4.9 1-0.6 1.3-2 0.5-3-4.3-5-10.5-8.2-17.5-8.2z" fill="#E4847F" p-id="7340"></path></svg>';
const musicFlag = ref<boolean>(false);
const controlMusic = () => {
  musicFlag.value = !musicFlag.value;
  if (musicFlag.value) {
    audio.value.play();
  } else {
    audio.value.pause();
  }
};

onMounted(() => {
  returnToTopRef.value = document.querySelector('.VPLocalNav.empty.fixed');
  if (returnToTopRef.value) returnToTopRef.value.style.zIndex = '-1000';
});

onBeforeUnmount(() => {
  if (returnToTopRef.value) returnToTopRef.value.style.zIndex = '1000';
});
</script>

<style scoped>
.home {
  --primary-color: #ff6086;
}

.button-github {
  /* @apply bg-sky-400 */
  --primary-color: #38bdf8;
}

.button {
  padding: 6px 12px;
  color: var(--primary-color);
  border: 2px solid var(--primary-color);
  transition: all 0.2s cubic-bezier(0, 0, 0.2, 1);
}

.button:hover {
  background-color: var(--primary-color);
  color: white;
}

.button::before,
.button::after {
  position: absolute;
  content: '';
  width: 150%;
  left: 50%;
  height: 100%;
  transform: translateX(-50%);
  z-index: -1000;
  background-repeat: no-repeat;
}

.button:hover::before {
  top: -70%;
  background-image: radial-gradient(
      circle,
      var(--primary-color) 20%,
      transparent 20%
    ),
    radial-gradient(
      circle,
      transparent 20%,
      var(--primary-color) 20%,
      transparent 30%
    ),
    radial-gradient(circle, var(--primary-color) 20%, transparent 20%),
    radial-gradient(circle, var(--primary-color) 20%, transparent 20%),
    radial-gradient(
      circle,
      transparent 10%,
      var(--primary-color) 15%,
      transparent 20%
    ),
    radial-gradient(circle, var(--primary-color) 20%, transparent 20%),
    radial-gradient(circle, var(--primary-color) 20%, transparent 20%),
    radial-gradient(circle, var(--primary-color) 20%, transparent 20%),
    radial-gradient(circle, var(--primary-color) 20%, transparent 20%);
  background-size: 10% 10%, 20% 20%, 15% 15%, 20% 20%, 18% 18%, 10% 10%, 15% 15%,
    10% 10%, 18% 18%;
  background-position: 50% 120%;
  animation: greentopBubbles 1s ease;
}

@keyframes greentopBubbles {
  0% {
    background-position: 5% 90%, 10% 90%, 10% 90%, 15% 90%, 25% 90%, 25% 90%,
      40% 90%, 55% 90%, 70% 90%;
  }

  50% {
    background-position: 0% 80%, 0% 20%, 10% 40%, 20% 0%, 30% 30%, 22% 50%,
      50% 50%, 65% 20%, 90% 30%;
  }

  100% {
    background-position: 0% 70%, 0% 10%, 10% 30%, 20% -10%, 30% 20%, 22% 40%,
      50% 40%, 65% 10%, 90% 20%;
    background-size: 0% 0%, 0% 0%, 0% 0%, 0% 0%, 0% 0%, 0% 0%;
  }
}

.button:hover::after {
  bottom: -70%;
  background-image: radial-gradient(
      circle,
      var(--primary-color) 20%,
      transparent 20%
    ),
    radial-gradient(circle, var(--primary-color) 20%, transparent 20%),
    radial-gradient(
      circle,
      transparent 10%,
      var(--primary-color) 15%,
      transparent 20%
    ),
    radial-gradient(circle, var(--primary-color) 20%, transparent 20%),
    radial-gradient(circle, var(--primary-color) 20%, transparent 20%),
    radial-gradient(circle, var(--primary-color) 20%, transparent 20%),
    radial-gradient(circle, var(--primary-color) 20%, transparent 20%);
  background-size: 15% 15%, 20% 20%, 18% 18%, 20% 20%, 15% 15%, 20% 20%, 18% 18%;
  background-position: 50% 0%;
  animation: greenbottomBubbles 1s ease;
}

@keyframes greenbottomBubbles {
  0% {
    background-position: 10% -10%, 30% 10%, 55% -10%, 70% -10%, 85% -10%,
      70% -10%, 70% 0%;
  }

  50% {
    background-position: 0% 80%, 20% 80%, 45% 60%, 60% 100%, 75% 70%, 95% 60%,
      105% 0%;
  }

  100% {
    background-position: 0% 90%, 20% 90%, 45% 70%, 60% 110%, 75% 80%, 95% 70%,
      110% 10%;
    background-size: 0% 0%, 0% 0%, 0% 0%, 0% 0%, 0% 0%, 0% 0%;
  }
}

.shake-hand {
  animation: shake 4s ease-in-out both infinite;
}
@keyframes shake {
  60% {
    transform: rotate(0deg);
  }
  70% {
    transform: rotate(-10deg);
  }
  80% {
    transform: rotate(0deg);
  }
  90% {
    transform: rotate(10deg);
  }
  100% {
    transform: rotate(0deg);
  }
}
</style>
